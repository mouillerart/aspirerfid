<html>
<head>
<title>OW2 :: Aspire RFID :: reader.remote.http :: Test page</title>

<!--
 * Copyright 2005-2008, Aspire
 * 
 * This library is free software; you can redistribute it and/or modify it 
 * under the terms of the GNU Lesser General Public License as published by 
 * the Free Software Foundation (the "LGPL"); either version 2.1 of the 
 * License, or (at your option) any later version. If you do not alter this 
 * notice, a recipient may use your version of this file under either the 
 * LGPL version 2.1, or (at his option) any later version.
 * 
 * You should have received a copy of the GNU Lesser General Public License 
 * along with this library; if not, write to the Free Software Foundation, 
 * Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
 * 
 * This software is distributed on an "AS IS" basis, WITHOUT WARRANTY OF ANY 
 * KIND, either express or implied. See the GNU Lesser General Public 
 * License for the specific language governing rights and limitations.
-->

<!--
Authors: Didier Donsez, Kiev Gama
-->

<script language="JavaScript">

<!--

function setCurrentTimestamp(input) {
  var currentDate = new Date();
  input.value=currentDate.getTime();
  return true;
}

function checkEmail(input) {
	var email= input.value;
	if(email.indexOf('@',0) == -1 
	  || email.indexOf(';',0) != -1 || email.indexOf(' ',0) != -1
	  || email.indexOf('/',0) != -1 || email.indexOf(';',0) != -1 
	  || email.indexOf('<',0) != -1 || email.indexOf('>',0) != -1
	  || email.indexOf('*',0) != -1 || email.indexOf('|',0) != -1
	  || email.indexOf('`',0) != -1 || email.indexOf('&',0) != -1
	  || email.indexOf('$',0) != -1 || email.indexOf('!',0) != -1
	  || email.indexOf('"',0) != -1 || email.indexOf(':',0) != -1) { 
		alert("Bad e-mail address: " + email);
	} 
}

function checkNumeric(input) {
	var text= input.value;
	for( var i=0; i< text.length; i++) {
		var ch= text.substring(i,i+1);
		if (ch < "0" || ch > "9") {
        alert("Bad numeric format.");
        return false;
    } 
	}
	return true;
} 
 
function checkTagId(input) {
	var text= input.value;
	for( var i=0; i< text.length; i++) {
		var ch= text.substring(i,i+1);
		if (
      !(ch >= "0" && ch <= "9")
      || (!(ch >= "A" && ch <= "Z"))
      || (!(ch >= "a" && ch <= "z"))
		
		)  {
         		alert("Bad tagId format.");
			return false;
    } 
	}
	return true;
}  

function checkReaderId(input) {
	var text= input.value;
	for( var i=0; i< text.length; i++) {
		var ch= text.substring(i,i+1);
		if (
      (!(ch >= "0" && ch <= "9"))
      || (!(ch >= "A" && ch <= "Z"))
      || (!(ch >= "a" && ch <= "z"))
      || (!(ch == "_"))
      || (!(ch == "-"))
      || (!(ch == "."))
		
		)  {
      alert("Bad tagId format.");
			return false;
    } 
	}
	return true;
}  

function checkTagIdList(input) {
  alert("check not implemented");
	return true;
}  

  
//-->
</script>

</head>
<body>
<h1 align=center>OW2 :: Aspire RFID :: reader.remote.http :: Test page</h1>
<hr>

<h2>Version 0.1</h2>
<form NAME="form01" METHOD="GET" ACTION="http://localhost:8080/HttpTagReader">
<center>

<table CELLPADDING=5>

<tr>
<td align=left> TagId:
<td><input type="text" name="id" onChange="checkTagId(this)"
      value="35654321000000112345678B"
>
</tr>

<tr>
<td align=left>Timestamp:  <input type="button" value="Set Now !" onClick="setCurrentTimestamp(this.form.timestamp)">
<td><input type="text" name="timestamp" onChange="checkTimestamp(this)"
      value="1232370019656"
>
</tr>

<tr>
<td align=left>ReaderId:
<td><input type="text" name="readerid" onChange="checkReaderId(this)"
      value="com.tikitag.reader.065441005C16102A"
>
</tr>

</table>

<input type="submit">&nbsp;<input type="reset">

</center>
</form>
<script language="JavaScript">

//<!--

setCurrentTimestamp(document.form01.timestamp);


//-->

</script>

<hr>
<h2>Version 0.2</h2>
With ids
<form  NAME="form02" METHOD="GET" ACTION="http://localhost:8080/HttpTagReader">
<center>

<table CELLPADDING=5>

<tr>
<td align=left> Comma-separated tagId list:
<td><input type="text" name="ids" onChange="checkTagIdList(this)"
      value="35654321000000112345678B,35654321000000112345678C,35654321000000112345678D"
>
</tr>

<tr>
<td align=left>Timestamp:  <input type="button" value="set Now !" onClick="setCurrentTimestamp(this.form.timestamp)">
<td><input type="text" name="timestamp" onChange="checkTimestamp(this)"
      value="1232370019656"
>
</tr>

<tr>
<td align=left>ReaderId:
<td><input type="text" name="readerid" onChange="checkReaderId(this)"
      value="com.tikitag.reader.065441005C16102A"
>
</tr>

</table>
<input type="submit">&nbsp;<input type="reset">

</center>
</form>
<script language="JavaScript">

//<!--

setCurrentTimestamp(document.form02.timestamp);


//-->

</script>

<hr>
<h2>Version 0.3</h2>
With more data (surveys answers, ...)

<form NAME="form03" METHOD="GET" ACTION="http://localhost:8080/HttpTagReader">
<center>



Example of a survey

<table CELLPADDING=5>

<tr>
<td align=left> TagId:
<td><input type="text" name="id" OnChange="checkTagId(this)"
      value="35654321000000112345678B"
>
</tr>

<tr>
<td align=left>Timestamp:  <input type="button" value="set Now !" onClick="setCurrentTimestamp(this.form.timestamp)">
<td><input type="text" name="timestamp" OnChange="checkTimestamp(this)"
      value="1232370019656"
>
</tr>

<tr>
<td align=left>ReaderId:
<td><input type="text" name="readerid" OnChange="checkReaderId(this)"
      value="com.tikitag.reader.065441005C16102A"
>
</tr>


<tr>
<td align=left> Gender:
<td>
<input type="radio" name="survey.s123456.q2" value="male">Male&nbsp;
<input type="radio" name="survey.s123456.q2" value="female">Female&nbsp;
</tr>

<tr>
<td align=left> Rate (this product):
<td>
<input type="radio" name="survey.s123456.q3" value="1">1&nbsp;
<input type="radio" name="survey.s123456.q3" value="2">2&nbsp;
<input type="radio" name="survey.s123456.q3" value="3">3&nbsp;
<input type="radio" name="survey.s123456.q3" value="4">4&nbsp;
<input type="radio" name="survey.s123456.q3" value="5">5&nbsp;
</tr>

<tr>
<td align=left>NFC RTD URL:
<td><input type="text" name="data" OnChange="convertNFCRTDURLinHexString(this)">
</tr>

<tr>
<td align=left>JSR179 location:
<td><input type="text" name="jsr179.location" value="45.193925,5.770875" onChange="checkLocationFormat(this)">
<input type="hidden" name="jsr179.method" value="gps">
</tr>

</table>

<input type="submit">&nbsp;<input type="reset">


</center>
</form>

<script language="JavaScript">

//<!--

setCurrentTimestamp(document.form03.timestamp);


//-->

</script>


<hr>
<h2>Version 0.4</h2>
0.4 with a POST


<h2>TODOLIST</h2>
<ul>
<li>AJAX version of this page displaying the Response Code (204, 400, 500...)</li>
<li>...</li>
</ul>


</body>
</html>
